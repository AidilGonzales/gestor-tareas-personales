<div class="contenedor" *ngIf="!cargando">

  <h2>Detalle de Tarea</h2>

  <div *ngIf="tarea">

    <div class="campo">
      <label>Título</label>
      <input [(ngModel)]="tarea.titulo" [readonly]="!modoEdicion">
    </div>

    <div class="campo">
      <label>Descripción</label>
      <textarea [(ngModel)]="tarea.descripcion" [readonly]="!modoEdicion"></textarea>
    </div>

    <div class="campo">
      <label>Categoría</label>
      <select [(ngModel)]="tarea.categoriaId" [disabled]="!modoEdicion">
        <option *ngFor="let c of categorias" [value]="c.id">{{ c.nombre }}</option>
      </select>
    </div>

    <div class="campo">
      <label>Fecha</label>
      <input type="date" [(ngModel)]="tarea.fecha" [readonly]="!modoEdicion">
    </div>

    <div class="campo">
      <label>Completada</label>
      <input type="checkbox" [(ngModel)]="tarea.completada" [disabled]="!modoEdicion">
    </div>

    <div class="acciones">

      <button routerLink="/tareas">Volver</button>

      <!-- BOTÓN EDITAR CUANDO ESTÁS EN MODO VER -->
      <button *ngIf="!modoEdicion" (click)="activarEdicion()">
        Editar
      </button>

      <!-- BOTÓN GUARDAR CUANDO ESTÁS EDITANDO -->
      <button *ngIf="modoEdicion" (click)="guardarCambios()">
        Guardar cambios
      </button>

      <!-- ELIMINAR SIEMPRE -->
      <button class="delete" (click)="eliminar()">
        Eliminar
      </button>

    </div>

  </div>

</div>

<div *ngIf="cargando" class="cargando">
  Cargando tarea...
</div>
