<div class="categorias-container">

  <h2>Gestión de Categorías</h2>

  <!-- Crear nueva categoría -->
  <div class="crear">
    <input
      type="text"
      placeholder="Nombre de categoría"
      [(ngModel)]="nuevaCategoria"
    />
    <button class="btn" (click)="crear()">Agregar</button>
  </div>

  <p class="error" *ngIf="errorMsg">{{ errorMsg }}</p>

  <hr />

  <!-- Listado -->
  <ul>
    <li *ngFor="let cat of categorias">

      <!-- Editar -->
      <div *ngIf="editando?.id === cat.id" class="editando-box">
        <input [(ngModel)]="editando!.nombre" />
        <button class="btn" (click)="guardarEdicion()">Guardar</button>
        <button class="btn cancelar" (click)="editando = null">Cancelar</button>
      </div>

      <!-- Normal -->
      <div *ngIf="editando?.id !== cat.id" class="item-box">
        <span>{{ cat.nombre }}</span>

        <div class="btn-group">
          <button class="btn" (click)="seleccionarParaEditar(cat)">Editar</button>
          <button class="btn eliminar" (click)="eliminar(cat.id)">Eliminar</button>
        </div>
      </div>

    </li>
  </ul>

</div>
